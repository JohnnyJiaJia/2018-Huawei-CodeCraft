## 赛题介绍
#### 背景
![image](https://github.com/yezhibo/2018-Huawei-CodeCraft/raw/master/picture/赛题描述图1.jpg)  
  随着云计算技术的日益成熟，云办公必然会成为未来的一种趋势，华为云平台同样在销售虚拟机，虚拟机分为多种规格，例如： flavor5 2 4096 备注：虚拟机名称 CPU核数 内存大小（MB）

  而虚拟机是由物理服务器分割出来的，物理服务器也分为多种规格，例如： 56 128 1200  备注:CPU核数 内存大小（GB） 硬盘大小（GB）

  在实际情况中，公司为了避免物理服务器的资源浪费，需要根据虚拟机的历史销售记录来预测未来的的销售情况，进而提前购买好物理服务器，并作相应规格虚拟机的部署。

#### 要求
  现在给你公司虚拟机的历史销售记录，让你编写程序
  1.  能根据不同规格的虚拟机的历史销售情况预测出未来指定时间段内的销售情况；
  2.  根据预测的的销售情况来计算需要的物理服务器的个数，并部署好每个物理服务器上虚拟机的分配情况。
#### 打分规则
  1. 预测的准确率
  2. 物理服务器的资源利用率（初赛为一种资源，复赛为两种资源）
  最终分数为预测准确率与资源利用率的乘积

## 解题思路
  题目一共分为两个部分，预测和分配
#### 预测
![image](https://github.com/yezhibo/2018-Huawei-CodeCraft/raw/master/picture/历史数据趋势.jpg)
上图为10种规格的虚拟机6个月的销量记录，经过分析可以发现数据有如下特征：
1. 销量没有上升或者下降趋势
2. 数据具有周期波动性
3. 需要考虑异常值的过滤问题

尝试过的预测算法有：
1. 线性回归 包括AR、ARMA、ARIMA
2. 指数平滑 包括二阶、三阶
3. LSTM（由于题目不允许使用第三方库，本方案利用github种RNN的java开源代码）

#### 分配
分配是根据预测出来的不同规格的虚拟机的资源总量（包括CPU MEM）来计算需要的相应规格的物理服务器的数量，最终达到资源利用率最高。

其实就是一个装箱问题。

尝试的算法：
1. first fit
2. 遗传算法
3. 模拟退火算法

初赛时仅考虑cpu一种资源类型，且物理服务器的规格也同样只有一种（56 128 1200），相对比较容易，利用遗传算法，最终利用率能达到95%以上；

复赛时需要考虑CPU MEM的利用率，且物理服务器的规格也变为了多种，增加了算法的复杂度，最终同样采用改进后的遗传算法，利用率基本也在90%以上；


## 总结

很有意义的一个比赛，从3月9日公布初赛赛题到4月27日复赛结束，四十多天的时间，学到了很多东西。中间反反复复尝试过多个版本，多个算法。最终侥幸进入复赛，粤港澳赛区19名。

初赛成绩：

![image](https://github.com/yezhibo/2018-Huawei-CodeCraft/raw/master/picture/初赛成绩.jpg)

复赛成绩：

![image](https://github.com/yezhibo/2018-Huawei-CodeCraft/raw/master/picture/复赛成绩.jpg)  

感谢室友。以后路还有很长，继续努力~























































